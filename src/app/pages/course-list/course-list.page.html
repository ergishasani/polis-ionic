<!-- src/app/pages/course-list/course-list.page.html -->
<ion-header>
  <ion-toolbar>
    <ion-title>Courses</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!-- 1) Search bar for filtering -->
  <ion-searchbar
    [value]="filter"
    (ionInput)="onFilterChange($event)"
    placeholder="Search courses">
  </ion-searchbar>

  <!-- 2) Spinner while loading -->
  <div *ngIf="loading" class="ion-text-center ion-margin-top">
    <ion-spinner name="dots"></ion-spinner>
  </div>

  <!-- 3) Course list once data has loaded -->
  <ng-container *ngIf="!loading">
    <ion-list *ngIf="courses && courses.length > 0; else noCourses">
      <ion-item
        *ngFor="let course of courses"
        [routerLink]="['/course-detail', course.id]">
        <ion-label>
          <h2>{{ course.code }} â€” {{ course.title }}</h2>
          <p>
            <strong>Year:</strong> {{ course.year }}<br>
            <strong>Description:</strong> {{ course.description }}
          </p>
        </ion-label>
      </ion-item>
    </ion-list>
  </ng-container>

  <!-- 4) Empty state -->
  <ng-template #noCourses>
    <div class="ion-text-center ion-margin-top">
      <p>No courses found.</p>
    </div>
  </ng-template>

</ion-content>
