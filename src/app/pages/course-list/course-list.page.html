<!-- src/app/pages/course-list/course-list.page.html -->

<ion-header>
  <ion-toolbar>
    <ion-title>All Courses</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="addCourse()">Add</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list *ngIf="courses.length; else noCourses">
    <ion-item
      *ngFor="let c of courses"
      (click)="viewDetail(c)"
      button
      detail
    >
      <ion-label>
        <h2>{{ c.title }}</h2>
        <p>{{ c.code }} â€“ {{ c.year }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ng-template #noCourses>
    <ion-card *ngIf="!isLoading">
      <ion-card-content>No courses found.</ion-card-content>
    </ion-card>
  </ng-template>

  <ion-spinner
    *ngIf="isLoading"
    name="crescent"
    style="display: block; margin: auto; margin-top: 20px;"
  ></ion-spinner>

  <ion-infinite-scroll
    threshold="100px"
    (ionInfinite)="loadMore($event)"
    *ngIf="hasNext"
  >
    <ion-infinite-scroll-content
      loadingSpinner="crescent"
      loadingText="Loading more..."
    ></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
