<!-- src/app/pages/course-list/course-list.page.html -->
<ion-header>
  <ion-toolbar>
    <ion-title>Courses</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- 1) Spinner while loading -->
  <div *ngIf="loading" class="ion-text-center ion-margin-top">
    <ion-spinner name="dots"></ion-spinner>
  </div>

  <!-- 2) Once loading is done -->
  <ng-container *ngIf="!loading; else loadingBlock">

    <!-- a) If we have any courses, show them -->
    <ion-list *ngIf="(courses?.length ?? 0) > 0; else noCourses">
      <ion-item
        *ngFor="let course of courses"
        [routerLink]="['/course-detail', course.id]">
        <ion-label>
          <h2>{{ course.title }}</h2>
          <p>
            <strong>Code:</strong> {{ course.code }}<br>
            <strong>Year:</strong> {{ course.year }}
          </p>
        </ion-label>
      </ion-item>
    </ion-list>

  </ng-container>

  <!-- Loading fallback (in case *ngIf="!loading" hides everything) -->
  <ng-template #loadingBlock>
    <!-- nothing hereâ€”spinner already handles it -->
  </ng-template>

  <!-- Empty state fallback -->
  <ng-template #noCourses>
    <div class="ion-text-center ion-margin-top">
      No courses found.
    </div>
  </ng-template>
</ion-content>
